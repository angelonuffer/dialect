# dialect

This library implements a parser that validates input according to a defined grammar and returns the corresponding value. It also provides a generator function that does the reverse, validating a value and generating the corresponding output.

## parse : function

`{ input : text grammar : object }` => `analysis : object`

Parses the provided input according to the specified grammar.

## generate : function

`{ value : any grammar : object }` => `generation : object`

Does the reverse of `parse`. Takes a value and a grammar, validates if the value can be generated by the grammar and returns the corresponding output.

## grammar : object

The grammar object that defines the parsing rules.

- `type : text` - The type of grammar to be used.

- If `type` == "symbol":
  - `text : text` - The text to be matched.

- If `type` == "range":
  - `from : text` - The lower limit of the range.
  - `to : text` - The upper limit of the range.

- If `type` == "sequence":
  - `parts : list` - List of grammar objects. Each item is another valid grammar. If `format` == "object", each item must have the fields `name : text` (output/input key) and `grammar : object` (sub-grammar).
  - `format : text` - Return format, can be "text", "list" or "object".

- If `type` == "alternative":
  - `options : list` - List of grammar objects. Each item is another valid grammar. The parsing will succeed if any of the options match the input.

- If `type` == "optional":
  - `grammar : object` - Grammar object. The parsing will succeed if the grammar matches the input or if the input is empty, returning an empty string in this case.

- If `type` == "repetition":
  - `grammar : object` - The sub-grammar that will be repeated.
  - `format : text` - Return format, can be "text" or "list".
  - `minimum : number` (optional) - Minimum number of occurrences required. Default: 1.
  - `maximum : number` (optional) - Maximum number of occurrences allowed. Omit for unlimited.

## analysis : object

An object containing the result of the parsing.

- `success : number` - Indicates whether the parsing was successful (1) or not (0).
- `value : text | list | object` - The value corresponding to the parsed input, if the parsing is successful. If `format` == "object", returns an object mapping part names to parsed values.
- `pos : number` - The position in the input where the parsing failed.
- `expected : text` - The description of what was expected by the grammar.
- `found : text` - What was actually found in the input.

## generation : object

An object containing the result of the generation.

- `success : number` - Indicates whether the generation was successful (1) or not (0).
- `output : text` - The generated output, if the generation is successful.