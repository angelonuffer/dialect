uniteste = ../deps/uniteste.0
dialect = ../code/0

test_range = dialect.analyze({
  input: "c"
  grammar: {
    type: "range"
    from: "a"
    to: "z"
  }
})

test_sequence = dialect.analyze({
  input: "abc"
  grammar: {
    type: "sequence"
    parts: [
      { type: "symbol" text: "a" }
      { type: "symbol" text: "b" }
      { type: "symbol" text: "c" }
    ]
    format: "text"
  }
})

test_alternative = dialect.analyze({
  input: "hello"
  grammar: {
    type: "alternative"
    options: [
      { type: "symbol" text: "world" }
      { type: "symbol" text: "hello" }
    ]
  }
})

test_optional = dialect.analyze({
  input: ""
  grammar: {
    type: "optional"
    grammar: { type: "symbol" text: "x" }
  }
})

test_repetition = dialect.analyze({
  input: "aaa"
  grammar: {
    type: "repetition"
    grammar: { type: "symbol" text: "a" }
    format: "text"
    minimum: 1
    maximum: 5
  }
})

test_generate_range = dialect.generate({
  value: "m"
  grammar: {
    type: "range"
    from: "a"
    to: "z"
  }
})

uniteste.descrever({
  nome: "Testes de Todos os Tipos"
  testes: [
    uniteste.iguais({ args: [test_range.success 1] })
    uniteste.iguais({ args: [test_range.value "c"] })
    uniteste.iguais({ args: [test_sequence.success 1] })
    uniteste.iguais({ args: [test_sequence.value "abc"] })
    uniteste.iguais({ args: [test_alternative.success 1] })
    uniteste.iguais({ args: [test_alternative.value "hello"] })
    uniteste.iguais({ args: [test_optional.success 1] })
    uniteste.iguais({ args: [test_optional.value ""] })
    uniteste.iguais({ args: [test_repetition.success 1] })
    uniteste.iguais({ args: [test_repetition.value "aaa"] })
    uniteste.iguais({ args: [test_generate_range.success 1] })
    uniteste.iguais({ args: [test_generate_range.output "m"] })
  ]
})
