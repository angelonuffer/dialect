uniteste = ../deps/uniteste.0
dialect = ../code/0

test_object_sequence = dialect.analyze({
  input: "abc"
  grammar: {
    type: "sequence"
    parts: [
      { name: "first" grammar: { type: "symbol" text: "a" } }
      { name: "second" grammar: { type: "symbol" text: "b" } }
      { name: "third" grammar: { type: "symbol" text: "c" } }
    ]
    format: "object"
  }
})

test_list_sequence = dialect.analyze({
  input: "xyz"
  grammar: {
    type: "sequence"
    parts: [
      { type: "symbol" text: "x" }
      { type: "symbol" text: "y" }
      { type: "symbol" text: "z" }
    ]
    format: "list"
  }
})

test_generate_object = dialect.generate({
  value: {
    first: "a"
    second: "b"
    third: "c"
  }
  grammar: {
    type: "sequence"
    parts: [
      { name: "first" grammar: { type: "symbol" text: "a" } }
      { name: "second" grammar: { type: "symbol" text: "b" } }
      { name: "third" grammar: { type: "symbol" text: "c" } }
    ]
    format: "object"
  }
})

uniteste.descrever({
  nome: "Testes de Formato de Objeto"
  testes: [
    uniteste.iguais({ args: [test_object_sequence.success 1] })
    uniteste.iguais({ args: [test_object_sequence.value.first "a"] })
    uniteste.iguais({ args: [test_object_sequence.value.second "b"] })
    uniteste.iguais({ args: [test_object_sequence.value.third "c"] })
    uniteste.iguais({ args: [test_list_sequence.success 1] })
    uniteste.iguais({ args: [test_generate_object.success 1] })
    uniteste.iguais({ args: [test_generate_object.output "abc"] })
  ]
})
